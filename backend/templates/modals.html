<!-- Create Project Modal -->
<div id="create-project-modal" class="hidden target:flex fixed inset-0 bg-black/50 items-center justify-center z-50">
    <div class="bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl w-96 p-4 relative">
        <a href="#" class="absolute top-4 right-4 text-zinc-500 hover:text-zinc-300">✕</a>
        <h2 class="text-sm font-semibold text-zinc-100 mb-4">Create New Project</h2>

        <form action="/project/create" method="POST" class="space-y-4">
            <div>
                <label class="block text-xs text-zinc-400 mb-1">Project Name</label>
                <input type="text" name="projectName" required
                    class="w-full bg-zinc-950 border border-zinc-800 rounded px-2 py-1.5 text-xs text-zinc-200 focus:border-blue-500 outline-none"
                    placeholder="my-awesome-project">
            </div>
            <div>
                <label class="block text-xs text-zinc-400 mb-1">Location</label>
                <div class="flex gap-2">
                    <input type="text" name="projectPath" required
                        class="flex-1 bg-zinc-950 border border-zinc-800 rounded px-2 py-1.5 text-xs text-zinc-200 focus:border-blue-500 outline-none"
                        value="{{ parent_path }}">
                    <a href="/picker?mode=create"
                        class="px-3 py-1.5 text-xs bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded border border-zinc-700 flex items-center">
                        Browse
                    </a>
                </div>
            </div>
            <div class="flex justify-end gap-2 pt-2">
                <a href="#" class="px-3 py-1.5 text-xs text-zinc-400 hover:text-zinc-200 flex items-center">Cancel</a>
                <button type="submit"
                    class="px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded">Create</button>
            </div>
        </form>
    </div>
</div>

<!-- Open Project Modal -->
<div id="open-project-modal" class="hidden target:flex fixed inset-0 bg-black/50 items-center justify-center z-50">
    <div
        class="bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl w-96 p-8 relative flex flex-col items-center gap-4">
        <a href="#" class="absolute top-4 right-4 text-zinc-500 hover:text-zinc-300">✕</a>
        <h2 class="text-lg font-semibold text-zinc-100">Open Project</h2>
        <p class="text-zinc-400 text-sm text-center">Browse your local file system to open an existing project.</p>

        <a href="/picker?mode=open" class="px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded font-medium">
            Browse Files...
        </a>
    </div>
</div>

<!-- New Item Modal (File/Folder) -->
<div id="new-item-modal" class="hidden target:flex fixed inset-0 bg-black/50 items-center justify-center z-50">
    <div class="bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl w-96 p-6 relative flex flex-col gap-4">
        <a href="#" class="absolute top-4 right-4 text-zinc-500 hover:text-zinc-300">✕</a>
        <h2 class="text-lg font-semibold text-zinc-100">Create New Item</h2>

        <form action="/item/create" method="POST" class="flex flex-col gap-4">
            <div>
                <label class="block text-xs text-zinc-400 mb-1">Parent Directory</label>
                <input type="text" name="parent_path" readonly
                    class="w-full bg-zinc-950 border border-zinc-800 rounded px-2 py-1.5 text-xs text-zinc-500 outline-none"
                    value="{{ new_item_path if new_item_path else '' }}">
            </div>

            <div>
                <label class="block text-xs text-zinc-400 mb-1">Name</label>
                <input type="text" name="name" required autofocus
                    class="w-full bg-zinc-950 border border-zinc-800 rounded px-2 py-1.5 text-xs text-zinc-200 focus:border-blue-500 outline-none"
                    placeholder="e.g., utils.py or components">
            </div>

            <div class="flex gap-4">
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="radio" name="type" value="file" checked class="text-blue-600 focus:ring-blue-500">
                    <span class="text-sm text-zinc-300">File</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="radio" name="type" value="folder" class="text-blue-600 focus:ring-blue-500">
                    <span class="text-sm text-zinc-300">Folder</span>
                </label>
            </div>

            <div class="flex justify-end gap-2 pt-2">
                <a href="#" class="px-3 py-1.5 text-xs text-zinc-400 hover:text-zinc-200 flex items-center">Cancel</a>
                <button type="submit"
                    class="px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded">Create</button>
            </div>
        </form>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="delete-item-modal" class="hidden target:flex fixed inset-0 bg-black/50 items-center justify-center z-50">
    <div class="bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl w-96 p-6 relative flex flex-col gap-4">
        <a href="#" class="absolute top-4 right-4 text-zinc-500 hover:text-zinc-300">✕</a>
        <h2 class="text-lg font-semibold text-red-500">Delete Item?</h2>

        <p class="text-xs text-zinc-400">
            Are you sure you want to delete this item? This action cannot be undone.
        </p>
        <div class="bg-zinc-950 p-2 rounded border border-zinc-800 text-xs text-zinc-500 font-mono break-all">
            {{ delete_path if delete_path else 'No item selected' }}
        </div>

        <form action="/item/delete" method="POST" class="flex justify-end gap-2 pt-2">
            <input type="hidden" name="path" value="{{ delete_path }}">
            <a href="#" class="px-3 py-1.5 text-xs text-zinc-400 hover:text-zinc-200 flex items-center">Cancel</a>
            <button type="submit"
                class="px-3 py-1.5 text-xs bg-red-600 hover:bg-red-500 text-white rounded">Delete</button>
        </form>
    </div>
</div>